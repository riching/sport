﻿<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8"/>
    <title>眼球运动动画</title>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/colorpicker.css" />

    <script type="text/javascript" src="utils/jquery-1.6.2.min.js"></script>
    <script type="text/javascript" src="utils/utils.js"></script>
    <script type="text/javascript" src="utils/shap.js"></script>
    <script type="text/javascript" src="utils/colorpicker.js"></script>
    <script type="text/javascript">
        function changebg() {
            // alert(document.getElementById("color_sel").value);

        }
    </script>
</head>

<body>
<div class="menu">
    <section>
        <div class="preview"></div>
        <div class="colorpicker" style="display:none">
            <canvas id="picker" var="4" width="300" height="300"></canvas>
            <div class="controls">
                <div><label>R</label> <input type="text" id="rVal"/></div>
                <div><label>G</label> <input type="text" id="gVal"/></div>
                <div><label>B</label> <input type="text" id="bVal"/></div>
                <div><label>RGB</label> <input type="text" id="rgbVal"/></div>
                <div><label>HEX</label> <input type="text" id="hexVal"/></div>
            </div>
        </div>
    </section>
    <section>
        速度:
        <input id="add" type="button" value="增大"/>
        <input id="reset" type="button" value="重置"/>
        <input id="dec" type="button" value="减小"/>
    </section>
    <section>
        半径:
        <input id="bigger" type="button" value="增加"/>
        <input id="resetR" type="button" value="重置"/>
        <input id="smaller" type="button" value="减小"/>
    </section>
    <section>
        <input type="color" name="bgcolor" id="color_sel" onchange="changebg()"/>
    </section>
    <!--<audio controls="controls" >
      <source src="music/Stay Here Forever.mp3" type="audio/mp3" />
    </audio>-->
</div>
<h1>一只名叫失心疯的球</h1>
<canvas id="canvas" width="800" height="600"></canvas>
<script type="text/javascript" src="utils/animation_mode.js"></script>
<script>
    var ball = new Ball();
    window.onload = function () {
        var h = screen.height - 240;
        var w = screen.width - 50;
        canvas = document.getElementById('canvas');
        canvas.setAttribute("width", w);
        canvas.setAttribute("height", h);
        context = canvas.getContext('2d');

        fns = new Array();
        fns.push(AM.circleInit);
        fns.push(AM.updownInit);
        fns.push(AM.circleInit);
        fns.push(AM.leftrightInit);
        fns.push(AM.circleInit);
        fns.push(AM.waveInit);
        fns.push(AM.circleInit);
        //fns.push(AM.pulseInit);
        fns.push(AM.randomMoveInit);
        fns.push(AM.circleInit);
        fns.push(AM.ovalInit);
        currentIndex = 0;
        fn = fns[currentIndex](canvas, ball);
        (function drawFrame() {
            window.requestAnimationFrame(drawFrame, canvas);
            context.clearRect(0, 0, canvas.width, canvas.height);
            fn(canvas, context, ball);
        }());
        setInterval(changeMode, 15000);

        function changeMode() {
            currentIndex += 1;
            if (currentIndex >= fns.length) {
                currentIndex = 0;
            }
            fn = fns[currentIndex](canvas, ball);
        }

    }
    $("#add").click(
            function () {
                ball.speedMulti += ball.speedMulti / 10;
            }
    );
    $('#reset').click(
            function () {
                ball.speedMulti = 1;
            }
    );
    $("#dec").click(
            function () {
                ball.speedMulti -= ball.speedMulti / 10;
            }
    );
    $("#bigger").click(
            function () {
                ball.radius += ball.radius * 0.2;
            }
    );
    $("#resetR").click(
            function () {
                ball.radius = 5;
            }
    );
    $("#smaller").click(
            function () {
                ball.radius -= ball.radius * 0.2;
            }
    );
</script>
</body>
</html>
